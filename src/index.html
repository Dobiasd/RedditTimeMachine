<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="keywords" content="Reddit,Time,Machine,search,subreddits,day,week,month,year,sort,hot,top,comments,relevance">
    <title>Reddit Time Machine - check out what was up on reddit days/weeks/months ago</title>
    <script type="text/javascript" src="js/elm-runtime.js"></script>
    <script type="text/javascript" src="js/RedditTimeMachine.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" media="screen">
  </head>
  <body onload="Init()">
    <div id="ads">ads</div>
    <!-- The header is not implemented in elm but here fot the following reasons:
         - Multiple elm modules at the same time produce
           problems scaling with the browser size
           (https://groups.google.com/forum/#!topic/elm-discuss/aFn6A0wOKc8)
         - Currently (2014-07-01) images only can be used as hyperlinks
           with a workaround
           (https://groups.google.com/forum/#!topic/elm-discuss/K5tHTGDbLLk)
         - There is no known way to use AdSense inside elm.
           (https://groups.google.com/forum/#!topic/elm-discuss/hixIOJGNrf8)
    -->
    <div id="header">
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://www.reddittimemachine.com"><img src="icons/facebook.png" class="icon"/></a>
      <a href="https://twitter.com/home?status=Check%20out%20what%20was%20hot%20on%20reddit%20days/weeks/months%20ago%20at%20http://www.reddittimemachine.com"><img src="icons/twitter.png" class="icon"/></a>
      <a href="https://plus.google.com/share?url=http://www.reddittimemachine.com"><img src="icons/googleplus.png" class="icon"/></a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://www.reddittimemachine.com&title=Reddit%20Time%20Machine&summary=Check%20out%20what%20was%20hot%20on%20reddit%20days/weeks/months%20ago.&source="><img src="icons/linkedin.png" class="icon"/></a>
      <a href="https://pinterest.com/pin/create/button/?url=&media=http://www.reddittimemachine.com&description=Check%20out%20what%20was%20hot%20on%20reddit%20days/weeks/months%20ago." ]><img src="icons/pinterest.png" class="icon"/></a>
    </div>
    <div id="logo"><p>Reddit Time Machine<span id="headerSuffix">.com</span></p>
      <img src="imgs/snoo.png" />
    </div>
    <div id="query"><input type="text" id="queryField" placeholder="enter subreddit" autofocus></div>
    <div id="main"></div>
    <noscript>Your Browser must support Javascript to display this page.</noscript>
  </body>
  <script type="text/javascript">
    function Init() {
      lastQuery = "";
      document.getElementById("queryField").value = "";
      var mainDiv = document.getElementById('main');
      page = Elm.embed(Elm.RedditTimeMachine, mainDiv, {query:""});
      page.ports.selected.subscribe(Selected);
      setInterval(CheckQuery, 100);
    }
    function CheckQuery() {
      query = document.getElementById("queryField").value;
      if (query != lastQuery) {
        lastQuery = query;
        page.ports.query.send(query);
        SetTitle(query);
      }
    }
    function Selected(name) {
      document.getElementById("queryField").value = name;
      SetTitle(name);
    }
    function SetTitle(name) {
      subreddit = "reddit";
      if (name) {
        subreddit = "/r/" + name;
      }
      title = "Reddit Time Machine - check out what was up on + " + subreddit + " days/weeks/months ago";
      document.title = title;
    }
  </script>
</html>